# lists that link variable names in the scripts to paper tables
library(here)

tables <- list(
  # generated by create_strain_table.R
  strain_table = "table_S1",
  # generated by create_toxicant_table.R
  tox_table_ft = "table_S2",
  # use_table_ft = "table_S4",
  # moa_table_ft = "table_S5",
  # generated by code/phenotypes/outlier_table.R
  outlier_ft = "table_S3",
  # generated by code/phenotypes/group_pheno_summary_table.R
  group_summary = "table_S4",
  # generated by code/heritability/table_heritability.R
  heritability_summary = "table_S5",
  # generated by code/detection_summary/qtl_table.R
  qtl_detected_table = "table_S6",
  # generated by create_candidate_table.R
  candidate_ft = "table_S7",
  # qtl overlaps - generated by overlaps_table.R
  overlap_ft = "table_S8",
  # generated by create_qtl_ranking_table.R
  inbred_qtl_ranking_ft = "table_S9"
)

# Define figures list with candidate gene parameter sweep plot
figures <- list(
  # main figures
  heritability_all_classes = "figure_1",
  phenotype_correlations = "figure_2",
  # manhattan plots - `manhattanPlots.R`
  manhattan_plots = "figure_3",
  # effect sizes - `interval_effect_sizes.R`
  tox.effect.bubble = "figure_4",
  qtl_overlaps = "figure_5"
)

sup_figures <- list(
  sim_performance = "figure_S1",
  # phenotype distributions - `pheno_ranges.R`
  strain_means_plot = "figure_S2",
  # outlier histograms - `outlier_table.R`
  n_outlier_hist = "figure_S3",
  # heritability comparison to Widmayer et al. 2022 - `suppfigure_4_heritability_comp.qmd`'
  heritability_comp = "figure_S4",
  all_tox_intervals = "figure_S5",
  # interval enrichment dotplot
  int_enrich_sim_dp = "figure_S6",
  physical_overlaps = "figure_S7",
  sem_sim_heatmap = "figure_S8"
)

# Generate file names for the tables
generate_table_fns <- function(tables) {
  file_names <- list()
  for (name in names(tables)) {
    folder_path <- here("tables", tables[[name]])
    if (!dir.exists(folder_path)) {
      dir.create(folder_path, recursive = TRUE)
    }
    file_names[[name]] <- list(
      html = here("tables", tables[[name]], paste0(tables[[name]], ".html")),
      tsv = here("tables", tables[[name]], paste0(tables[[name]], ".tsv.zip")),
      docx = here("tables", tables[[name]], paste0(tables[[name]], ".docx")),
      csv = here("tables", tables[[name]], paste0(tables[[name]], ".csv"))
    )
  }
  return(file_names)
}

table_fns <- generate_table_fns(tables)
print(table_fns)

# Generate file names for the figures
generate_figure_fns <- function(figures) {
  file_names <- list()
  for (name in names(figures)) {
    folder_path <- here("figures", figures[[name]])
    if (!dir.exists(folder_path)) {
      dir.create(folder_path, recursive = TRUE)
    }
    file_names[[name]] <- list(
      png = here("figures", figures[[name]], paste0(figures[[name]], ".png")),
      eps = here("figures", figures[[name]], paste0(figures[[name]], ".eps")),
      jpg = here("figures", figures[[name]], paste0(figures[[name]], ".jpg"))
    )
  }
  return(file_names)
}

figure_fns <- generate_figure_fns(figures)
print(figure_fns)

sup_figure_fns <- generate_figure_fns(sup_figures)
